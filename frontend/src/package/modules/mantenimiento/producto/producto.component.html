<div class="card">
    <p-toast></p-toast>
  
    <p-table #dt
      [value]="productos"
      [rows]="10"
      [paginator]="true"
      [globalFilterFields]="['producto_nombre','producto_descripcion']"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="{first} a {last} de {totalRecords} registros"
      styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped"
      [(selection)]="selectedProductos"
      [rowHover]="true"
      dataKey="producto_id"
      [loading]="loading"
      selectionMode="single">
  
      <ng-template pTemplate="header">
        <tr>
          <th>ACCIONES</th>
          <th>N°</th>
          <th>PRODUCTO</th>
          <th>DESCRIPCIÓN</th>
          <th>ESTADO</th>
          <th>CARrito</th>
        </tr>
      </ng-template>
  
      <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
        <tr>
          <td>
            <p-button icon="pi pi-pencil" severity="info" [outlined]="true"
              pTooltip="Editar" tooltipPosition="top" [rounded]="true" size="large"
              styleClass="border-2 mr-1" (click)="editProducto(row)"></p-button>
  
            <p-button icon="pi pi-trash" severity="danger" [outlined]="true"
              pTooltip="Eliminar" tooltipPosition="top" [rounded]="true" size="large"
              styleClass="border-2 mr-1" (click)="deleteProducto(row)"></p-button>
          </td>
          <td>{{ rowIndex + 1 }}</td>
          <td>{{ row.producto_nombre | uppercase }}</td>
          <td>{{ row.producto_descripcion | uppercase }}</td>
          <td>
            <p-chip [label]="row.producto_estado === 1 ? 'Activo' : 'Inactivo'" 
                    [styleClass]="getChip(row.producto_estado)">
            </p-chip>
          </td>
          <td>
            <button pButton pRipple label="Agregar" icon="pi pi-shopping-cart" 
              (click)="agregarAlCarrito(row)"></button>
          </td>
        </tr>
      </ng-template>
  
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="6" class="text-center">No se encontraron registros para mostrar</td>
        </tr>
      </ng-template>
    </p-table>
  </div>